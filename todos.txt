1. move tokens and codes to context